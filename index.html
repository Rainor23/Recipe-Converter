<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recipe Unit Converter - Free Online Tool</title>
    <meta name="description" content="Free online recipe unit converter. Convert cups to grams, teaspoons to ml, Fahrenheit to Celsius and more. Perfect for baking and cooking!">
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .ad-container {
            background: #f9f9f9;
            border: 1px dashed #ccc;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #999;
            font-size: 14px;
        }
        .top-banner-ad {
            width: 100%;
            height: 90px;
            margin-bottom: 20px;
        }
        .sidebar-ad {
            width: 160px;
            height: 600px;
            position: sticky;
            top: 20px;
        }
        @media (max-width: 1280px) {
            .sidebar-ad {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div style="display: flex; justify-content: center; gap: 20px; max-width: 1400px; margin: 0 auto;">
        <!-- Left Sidebar Ad -->
        <div class="sidebar-ad ad-container">
            <!-- REPLACE THIS WITH YOUR ADSENSE CODE -->
            Left Ad (160x600)
        </div>

        <!-- Main Content -->
        <div style="flex: 1; max-width: 900px;">
            <!-- Top Banner Ad -->
            <div class="top-banner-ad ad-container">
                <!-- REPLACE THIS WITH YOUR ADSENSE CODE -->
                Top Banner Ad (728x90 or responsive)
            </div>
            
            <div id="root"></div>
        </div>

        <!-- Right Sidebar Ad -->
        <div class="sidebar-ad ad-container">
            <!-- REPLACE THIS WITH YOUR ADSENSE CODE -->
            Right Ad (160x600)
        </div>
    </div>
    
    <script type="text/babel">
        const { useState } = React;
        
        // Lucide React icons as simple SVG components
        const ChefHat = ({ className }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
            </svg>
        );
        
        const RefreshCw = ({ className }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
            </svg>
        );

        const Copy = ({ className }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
            </svg>
        );

        const Check = ({ className }) => (
            <svg className={className} fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M5 13l4 4L19 7" />
            </svg>
        );

        const RecipeConverter = () => {
          const [recipeText, setRecipeText] = useState('');
          const [parsedLines, setParsedLines] = useState([]);
          const [copied, setCopied] = useState(false);

          // Ingredient densities (grams per cup)
          const ingredientDensities = {
            'flour': 120,
            'sugar': 200,
            'brown sugar': 220,
            'powdered sugar': 120,
            'butter': 227,
            'oil': 216,
            'milk': 240,
            'water': 240,
            'honey': 340,
            'cocoa': 118,
            'oats': 90,
            'rice': 185,
            'salt': 292,
            'baking powder': 220,
            'baking soda': 220,
            'yeast': 128,
            'cream': 240,
            'yogurt': 245,
            'sour cream': 240,
            'cheese': 113,
            'chocolate chips': 170,
            'nuts': 125,
            'default': 240
          };

          const conversions = {
            'cup': { ml: 240, 'fl oz': 8, tbsp: 16, tsp: 48, l: 0.24, pint: 0.5, quart: 0.25, gal: 0.0625 },
            'ml': { cup: 1/240, 'fl oz': 1/29.57, tbsp: 1/14.79, tsp: 1/4.93, l: 1/1000, pint: 1/473.18, quart: 1/946.35, gal: 1/3785.41 },
            'tbsp': { ml: 14.79, cup: 1/16, tsp: 3, 'fl oz': 0.5, l: 0.01479, pint: 1/32, quart: 1/64, gal: 1/256, stick: 0.125 },
            'tsp': { ml: 4.93, cup: 1/48, tbsp: 1/3, 'fl oz': 1/6, l: 0.00493, pint: 1/96, quart: 1/192, gal: 1/768 },
            'fl oz': { ml: 29.57, cup: 1/8, tbsp: 2, tsp: 6, l: 0.02957, pint: 1/16, quart: 1/32, gal: 1/128 },
            'l': { ml: 1000, cup: 4.227, tbsp: 67.63, tsp: 202.88, 'fl oz': 33.81, pint: 2.11, quart: 1.06, gal: 0.26 },
            'pint': { ml: 473.18, cup: 2, tbsp: 32, tsp: 96, 'fl oz': 16, l: 0.47, quart: 0.5, gal: 0.125 },
            'quart': { ml: 946.35, cup: 4, tbsp: 64, tsp: 192, 'fl oz': 32, l: 0.95, pint: 2, gal: 0.25 },
            'gal': { ml: 3785.41, cup: 16, tbsp: 256, tsp: 768, 'fl oz': 128, l: 3.79, pint: 8, quart: 4 },
            'oz': { g: 28.35, lb: 1/16, kg: 0.02835 },
            'g': { oz: 1/28.35, lb: 1/453.6, kg: 1/1000 },
            'lb': { g: 453.6, oz: 16, kg: 0.4536 },
            'kg': { g: 1000, oz: 35.27, lb: 2.205 },
            'stick': { tbsp: 8, g: 113, oz: 4, cup: 0.5 },
            'f': { c: (f) => (f - 32) * 5/9 },
            'c': { f: (c) => (c * 9/5) + 32 }
          };

          const unitOptions = {
            volume: ['cup', 'ml', 'l', 'tbsp', 'tsp', 'fl oz', 'pint', 'quart', 'gal'],
            weight: ['g', 'oz', 'lb', 'kg'],
            butter: ['stick', 'tbsp', 'cup', 'g', 'oz'],
            temperature: ['f', 'c']
          };

          const detectIngredient = (text) => {
            const lowerText = text.toLowerCase();
            for (const [ingredient, density] of Object.entries(ingredientDensities)) {
              if (ingredient !== 'default' && lowerText.includes(ingredient)) {
                return ingredient;
              }
            }
            return 'default';
          };

          const parseRecipe = (text) => {
            const lines = text.split('\n').filter(line => line.trim());
            const parsed = lines.map((line, idx) => {
              const measurementRegex = /(\d+\s+\d+[\/⁄]\d+|\d+[\/⁄]\d+|\d+\.?\d*)\s*(cups?|cup|tbsps?|tablespoons?|tsps?|teaspoons?|ml|l|liters?|oz|ounces?|g|grams?|lbs?|pounds?|kg|kilograms?|fl oz|pints?|quarts?|gal|gallons?|sticks?|°f|°c|fahrenheit|celsius)/gi;
              
              const measurements = [];
              let match;
              let lastIndex = 0;
              const parts = [];

              while ((match = measurementRegex.exec(line)) !== null) {
                if (match.index > lastIndex) {
                  parts.push({ type: 'text', content: line.slice(lastIndex, match.index) });
                }

                let amount = match[1];
                amount = amount.replace(/⁄/g, '/');
                
                if (amount.includes(' ') && amount.includes('/')) {
                  const [whole, fraction] = amount.split(' ');
                  const [num, den] = fraction.split('/');
                  amount = parseFloat(whole) + (parseFloat(num) / parseFloat(den));
                }
                else if (amount.includes('/')) {
                  const [num, den] = amount.split('/');
                  amount = parseFloat(num) / parseFloat(den);
                } else {
                  amount = parseFloat(amount);
                }

                let unit = match[2].toLowerCase().replace(/s$/, '');
                
                if (unit === 'tablespoon') unit = 'tbsp';
                if (unit === 'teaspoon') unit = 'tsp';
                if (unit === 'ounce') unit = 'oz';
                if (unit === 'gram') unit = 'g';
                if (unit === 'pound') unit = 'lb';
                if (unit === 'kilogram') unit = 'kg';
                if (unit === 'liter') unit = 'l';
                if (unit === 'pint') unit = 'pint';
                if (unit === 'quart') unit = 'quart';
                if (unit === 'gallon') unit = 'gal';
                if (unit === 'stick') unit = 'stick';
                if (unit === '°f' || unit === 'fahrenheit') unit = 'f';
                if (unit === '°c' || unit === 'celsius') unit = 'c';

                const ingredient = detectIngredient(line);

                const measurementObj = {
                  type: 'measurement',
                  originalAmount: match[1],
                  amount: amount,
                  originalUnit: match[2],
                  unit: unit,
                  ingredient: ingredient,
                  id: `${idx}-${measurements.length}`
                };

                parts.push(measurementObj);
                measurements.push(measurementObj);
                lastIndex = match.index + match[0].length;
              }

              if (lastIndex < line.length) {
                parts.push({ type: 'text', content: line.slice(lastIndex) });
              }

              return {
                original: line,
                parts: parts.length > 0 ? parts : [{ type: 'text', content: line }],
                hasMeasurements: measurements.length > 0
              };
            });

            setParsedLines(parsed);
          };

          const handleConvert = (lineIdx, partIdx, newUnit) => {
            const newParsedLines = [...parsedLines];
            const part = newParsedLines[lineIdx].parts[partIdx];
            
            if (part.type !== 'measurement') return;

            const oldUnit = part.unit;
            const oldAmount = part.amount;
            const ingredient = part.ingredient || 'default';

            let newAmount;
            
            if ((oldUnit === 'f' || oldUnit === 'c') && (newUnit === 'f' || newUnit === 'c')) {
              if (oldUnit === newUnit) {
                newAmount = oldAmount;
              } else {
                newAmount = conversions[oldUnit][newUnit](oldAmount);
              }
            }
            else if (getUnitCategory(oldUnit) === 'volume' && getUnitCategory(newUnit) === 'weight') {
              const cups = oldUnit === 'cup' ? oldAmount : oldAmount * conversions[oldUnit]['cup'];
              const grams = cups * ingredientDensities[ingredient];
              newAmount = newUnit === 'g' ? grams : grams * conversions['g'][newUnit];
            }
            else if (getUnitCategory(oldUnit) === 'weight' && getUnitCategory(newUnit) === 'volume') {
              const grams = oldUnit === 'g' ? oldAmount : oldAmount * conversions[oldUnit]['g'];
              const cups = grams / ingredientDensities[ingredient];
              newAmount = newUnit === 'cup' ? cups : cups * conversions['cup'][newUnit];
            }
            else if (oldUnit === 'stick' || newUnit === 'stick') {
              if (conversions[oldUnit] && conversions[oldUnit][newUnit]) {
                newAmount = oldAmount * conversions[oldUnit][newUnit];
              } else {
                return;
              }
            }
            else if (conversions[oldUnit] && conversions[oldUnit][newUnit]) {
              newAmount = oldAmount * conversions[oldUnit][newUnit];
            } else {
              return;
            }

            part.amount = newAmount;
            part.unit = newUnit;
            setParsedLines(newParsedLines);
          };

          const getUnitCategory = (unit) => {
            if (unitOptions.volume.includes(unit)) return 'volume';
            if (unitOptions.weight.includes(unit)) return 'weight';
            if (unitOptions.butter.includes(unit)) return 'butter';
            if (unitOptions.temperature.includes(unit)) return 'temperature';
            return null;
          };

          const getAvailableUnits = (unit, ingredient) => {
            const category = getUnitCategory(unit);
            
            if (unit === 'stick') return unitOptions.butter;
            
            if (category === 'volume' && ingredient !== 'default') {
              return [...unitOptions.volume, ...unitOptions.weight];
            }
            
            if (category === 'weight' && ingredient !== 'default') {
              return [...unitOptions.weight, ...unitOptions.volume];
            }
            
            return unitOptions[category] || [];
          };

          const formatAmount = (amount) => {
            return Math.round(amount * 100) / 100;
          };

          const copyConvertedRecipe = () => {
            const convertedText = parsedLines.map(line => {
              return line.parts.map(part => {
                if (part.type === 'text') {
                  return part.content;
                } else {
                  return `${formatAmount(part.amount)} ${part.unit}`;
                }
              }).join('');
            }).join('\n');

            navigator.clipboard.writeText(convertedText).then(() => {
              setCopied(true);
              setTimeout(() => setCopied(false), 2000);
            });
          };

          return (
            <div className="min-h-screen bg-gradient-to-br from-orange-50 via-yellow-50 to-green-50 p-8">
              <div className="max-w-4xl mx-auto">
                <div className="text-center mb-8">
                  <div className="flex items-center justify-center gap-3 mb-2">
                    <ChefHat className="w-10 h-10 text-orange-600" />
                    <h1 className="text-4xl font-bold text-gray-800">Recipe Unit Converter</h1>
                  </div>
                  <p className="text-gray-600">Paste your recipe and convert measurements on the fly!</p>
                </div>

                <div className="bg-white rounded-xl shadow-lg p-6 mb-6">
                  <label className="block text-lg font-semibold text-gray-700 mb-3">
                    Paste Your Recipe Here:
                  </label>
                  <textarea
                    value={recipeText}
                    onChange={(e) => setRecipeText(e.target.value)}
                    placeholder="2 cups flour&#10;1⁄2 tsp salt&#10;350°F oven&#10;1 stick butter..."
                    className="w-full h-48 p-4 border-2 border-orange-200 rounded-lg focus:border-orange-400 focus:outline-none resize-none font-mono text-sm"
                  />
                  <button
                    onClick={() => parseRecipe(recipeText)}
                    className="mt-4 w-full bg-orange-500 hover:bg-orange-600 text-white font-semibold py-3 px-6 rounded-lg transition-colors flex items-center justify-center gap-2"
                  >
                    <RefreshCw className="w-5 h-5" />
                    Convert Recipe
                  </button>
                </div>

                {parsedLines.length > 0 && (
                  <div className="bg-white rounded-xl shadow-lg p-6">
                    <div className="flex items-center justify-between mb-4">
                      <h2 className="text-2xl font-bold text-gray-800">Converted Recipe:</h2>
                      <button
                        onClick={copyConvertedRecipe}
                        className="flex items-center gap-2 bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded-lg transition-colors"
                      >
                        {copied ? (
                          <>
                            <Check className="w-5 h-5" />
                            Copied!
                          </>
                        ) : (
                          <>
                            <Copy className="w-5 h-5" />
                            Copy Recipe
                          </>
                        )}
                      </button>
                    </div>
                    <div className="space-y-3">
                      {parsedLines.map((line, lineIdx) => (
                        <div key={lineIdx} className="flex flex-wrap items-center gap-2 p-3 bg-gray-50 rounded-lg">
                          {line.parts.map((part, partIdx) => (
                            <React.Fragment key={partIdx}>
                              {part.type === 'text' ? (
                                <span className="text-gray-700">{part.content}</span>
                              ) : (
                                <div className="inline-flex items-center gap-2 bg-orange-100 px-3 py-1 rounded-full">
                                  <span className="font-semibold text-orange-800">
                                    {formatAmount(part.amount)}
                                  </span>
                                  <select
                                    value={part.unit}
                                    onChange={(e) => handleConvert(lineIdx, partIdx, e.target.value)}
                                    className="bg-white border-2 border-orange-300 rounded px-2 py-1 text-sm font-medium text-orange-700 cursor-pointer focus:outline-none focus:border-orange-500"
                                  >
                                    {getAvailableUnits(part.unit, part.ingredient)?.map(unit => (
                                      <option key={unit} value={unit}>{unit}</option>
                                    ))}
                                  </select>
                                </div>
                              )}
                            </React.Fragment>
                          ))}
                        </div>
                      ))}
                    </div>
                  </div>
                )}
              </div>
            </div>
          );
        };

        ReactDOM.render(<RecipeConverter />, document.getElementById('root'));
    </script>
</body>
</html>